---
import { Baby, Droplet, HeartPulse, Scale, ShieldPlus, Utensils } from 'lucide-astro';
import { getLangFromUrl, useTranslations, getLocalizedPath } from '../../i18n/ui';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const features = [
  {
    id: 'expertise-1',
    name: t('expertise.maternity'),
    description: t('expertise.maternity.desc'),
    icon: 'maternity',
  },
  {
    id: 'expertise-2',
    name: t('expertise.diabetes'),
    description: t('expertise.diabetes.desc'),
    icon: 'diabetes',
  },
  {
    id: 'expertise-3',
    name: t('expertise.renal'),
    description: t('expertise.renal.desc'),
    icon: 'renal',
  },
  {
    id: 'expertise-4',
    name: t('expertise.oncology'),
    description: t('expertise.oncology.desc'),
    icon: 'oncology',
  },
  {
    id: 'expertise-5',
    name: t('expertise.eating'),
    description: t('expertise.eating.desc'),
    icon: 'eating',
  },
  {
    id: 'expertise-6',
    name: t('expertise.weight'),
    description: t('expertise.weight.desc'),
    icon: 'weight',
  },
];
---

<section class="bg-white py-20 sm:py-28">
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <!-- Section Header -->
    <div class="text-center mb-16">
      <span class="inline-block px-4 py-1.5 bg-brand-blush text-brand-rose text-xs font-medium uppercase tracking-widest rounded-full mb-4">
        {lang === 'es' ? 'Especialidades' : 'Specialties'}
      </span>
      <h2 class="text-3xl sm:text-4xl lg:text-5xl font-serif font-medium text-brand-black mb-4">
        {t('expertise.title')}
      </h2>
      <p class="text-brand-muted max-w-xl mx-auto">
        {t('expertise.description')}
      </p>
    </div>

    <!-- Categories Grid -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
      {features.map((feature, index) => (
        <div 
          class="group p-6 sm:p-8 bg-brand-cream rounded-2xl hover:bg-brand-accent/5 transition-colors duration-300 cursor-pointer"
        >
          <!-- Icon -->
          <div class="w-12 h-12 mb-4 flex items-center justify-center text-brand-accent">
            {feature.icon === 'maternity' && (
              <Baby class="w-8 h-8" />
            )}
            {feature.icon === 'diabetes' && (
              <HeartPulse class="w-8 h-8" />
            )}
            {feature.icon === 'renal' && (
              <Droplet class="w-8 h-8" />
            )}
            {feature.icon === 'oncology' && (
              <ShieldPlus class="w-8 h-8" />
            )}
            {feature.icon === 'eating' && (
              <Utensils class="w-8 h-8" />
            )}
            {feature.icon === 'weight' && (
              <Scale class="w-8 h-8" />
            )}
          </div>

          <!-- Title -->
          <h3 class="text-lg font-serif font-medium text-brand-black mb-3 group-hover:text-brand-accent transition-colors">
            {feature.name}
          </h3>

          <!-- Description -->
          <p class="text-sm text-brand-muted leading-relaxed">
            {feature.description}
          </p>
        </div>
      ))}
    </div>

    <!-- CTA -->
    <div class="mt-12 text-center">
      <a
        href={getLocalizedPath('/contact', lang)}
        class="inline-flex items-center gap-2 bg-brand-accent text-white px-8 py-4 text-sm font-medium rounded-full hover:bg-brand-accent/90 transition-colors"
      >
        <span>{lang === 'es' ? 'Agenda tu consulta' : 'Book your consultation'}</span>
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
        </svg>
      </a>
    </div>
  </div>
</section>
