---
import { getLangFromUrl, useTranslations } from '../../i18n/ui';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const features = [
  {
    id: 'expertise-1',
    name: t('expertise.maternity'),
    description: t('expertise.maternity.desc'),
  },
  {
    id: 'expertise-2',
    name: t('expertise.diabetes'),
    description: t('expertise.diabetes.desc'),
  },
  {
    id: 'expertise-3',
    name: t('expertise.renal'),
    description: t('expertise.renal.desc'),
  },
  {
    id: 'expertise-4',
    name: t('expertise.oncology'),
    description: t('expertise.oncology.desc'),
  },
  {
    id: 'expertise-5',
    name: t('expertise.eating'),
    description: t('expertise.eating.desc'),
  },
  {
    id: 'expertise-6',
    name: t('expertise.weight'),
    description: t('expertise.weight.desc'),
  },
];
---

<section class="py-24 sm:py-32 bg-blue-950 text-white overflow-hidden">
  <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <div class="flex flex-col lg:flex-row gap-16 lg:gap-24">
      
      <!-- Sticky Header -->
      <div class="lg:w-1/3">
        <div class="lg:sticky lg:top-32">
          <h2 class="text-4xl sm:text-5xl font-serif font-light mb-6 text-white">
            {t('expertise.title')}
          </h2>
          <p class="text-lg text-blue-200/80 leading-relaxed mb-8 max-w-md">
            Specialized care tailored to your unique biological needs. We treat the root cause, not just the symptoms.
          </p>
          <div class="hidden lg:block w-12 h-px bg-blue-500"></div>
        </div>
      </div>

      <!-- Editorial List -->
      <div class="lg:w-2/3">
        <dl class="grid grid-cols-1 md:grid-cols-2 gap-x-8">
          {
            features.map((feature, index) => (
              <div class="group relative border-t border-white/10 py-10 transition-all duration-500 hover:bg-white/5 px-4 sm:px-6">
                <dt>
                  <button
                    class="flex flex-col items-start w-full text-left focus:outline-none h-full justify-between"
                    aria-controls={feature.id}
                  >
                    <div class="w-full">
                      <div class="flex justify-between items-start w-full mb-4">
                        <span class="text-xs font-bold text-blue-400 tracking-widest font-mono">
                          {(index + 1).toString().padStart(2, '0')}
                        </span>
                        <span class="text-blue-400 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                          â†’
                        </span>
                      </div>
                      <span class="block text-2xl sm:text-3xl font-serif font-light text-white group-hover:translate-x-2 transition-transform duration-300 mb-4">
                        {feature.name}
                      </span>
                    </div>
                  </button>
                </dt>
                <dd class="mt-2">
                  <p class="text-base text-blue-200/70 leading-relaxed opacity-0 -translate-y-2 group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-500 delay-75">
                    {feature.description}
                  </p>
                </dd>
              </div>
            ))
          }
        </dl>
        <div class="border-t border-white/10"></div>
      </div>
    </div>
  </div>
</section>
