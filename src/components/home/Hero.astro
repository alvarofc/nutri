---
import { getLangFromUrl, useTranslations, getLocalizedPath } from '../../i18n/ui';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<section class="bg-stone-50 dark:bg-blue-950 min-h-[90vh] flex flex-col pt-24 sm:pt-32 border-b border-blue-900/10">
  <!-- Massive Headline -->
  <div class="px-4 sm:px-6 lg:px-8 max-w-[100vw]">
    <h1 class="font-serif font-light text-5xl sm:text-7xl lg:text-8xl leading-[0.9] tracking-tight text-blue-950 dark:text-white mb-8 sm:mb-12 max-w-6xl">
      {t('home.title')}
    </h1>
  </div>

  <!-- Divider Line -->
  <div class="w-full h-px bg-blue-900/20 dark:bg-white/20 mb-8 sm:mb-12"></div>

  <div class="flex-1 flex flex-col lg:flex-row gap-8 lg:gap-0 h-full">
    <!-- Left: Description & CTA (Sticky) -->
    <div class="px-4 sm:px-6 lg:px-8 lg:w-1/3 flex flex-col justify-between pb-12 lg:pb-20 lg:sticky lg:top-32 h-fit">
      <div class="flex flex-col gap-8">
        <p class="text-lg sm:text-xl font-light leading-relaxed text-blue-900/80 dark:text-blue-100/80 max-w-md">
          {t('home.subtitle')}
        </p>
        
        <div class="flex flex-col gap-4">
          <a
            href={getLocalizedPath('/contact', lang)}
            class="group w-full sm:w-fit flex items-center justify-between gap-4 bg-blue-900 text-white px-6 py-4 text-lg transition-all duration-300 hover:bg-blue-800"
          >
            <span>{t('cta.contact')}</span>
            <span class="group-hover:translate-x-1 transition-transform">â†’</span>
          </a>
          
          <!-- Social Proof Text -->
          <div class="flex items-center gap-2 text-sm text-blue-900/60 dark:text-blue-200/60 mt-4">
            <span class="h-px w-8 bg-current"></span>
            <span>Based in Madrid & Online</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Right: Editorial Image Grid (Replaces Carousel) -->
    <div class="lg:w-2/3 lg:border-l border-blue-900/20 dark:border-white/20">
      <div class="grid grid-cols-2 gap-px bg-blue-900/20 dark:bg-white/20">
        <div class="relative aspect-[3/4] overflow-hidden bg-stone-100 group">
          <img 
            src="https://images.unsplash.com/photo-1490645935967-10de6ba17061?q=80&w=1200&auto=format&fit=crop" 
            class="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-105 grayscale hover:grayscale-0"
          />
        </div>
        <div class="relative aspect-[3/4] overflow-hidden bg-stone-100 group">
          <div class="absolute inset-0 flex items-center justify-center bg-blue-900 p-8 text-white">
             <p class="font-serif text-3xl italic text-center">"Nutrition is not just about food, it's about energy."</p>
          </div>
        </div>
        <div class="relative aspect-[3/4] overflow-hidden bg-stone-100 group">
           <img 
            src="https://images.unsplash.com/photo-1543362906-ac1b481287cf?q=80&w=1200&auto=format&fit=crop" 
            class="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-105 grayscale hover:grayscale-0"
          />
        </div>
        <div class="relative aspect-[3/4] overflow-hidden bg-stone-100 group">
           <img 
            src="https://images.unsplash.com/photo-1512621776951-a57141f2eefd?q=80&w=1200&auto=format&fit=crop" 
            class="absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-105 grayscale hover:grayscale-0"
          />
        </div>
      </div>
    </div>
  </div>
</section>
